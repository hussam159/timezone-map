!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).spacetime=t()}(this,function(){"use strict";var e=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){t.isLeapYear=e=>e%4==0&&e%100!=0||e%400==0,t.isDate=e=>"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.valueOf()),t.isArray=e=>"[object Array]"===Object.prototype.toString.call(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.zeroPad=(e,t=2)=>{return(e+="").length>=t?e:new Array(t-e.length+1).join("0")+e},t.titleCase=e=>e?e[0].toUpperCase()+e.substr(1):"",t.ordinal=e=>{let t=e%10,a=e%100;return 1===t&&11!==a?e+"st":2===t&&12!==a?e+"nd":3===t&&13!==a?e+"rd":e+"th"},t.toCardinal=e=>(e=(e=String(e)).replace(/([0-9])(st|nd|rd|th)$/i,"$1"),parseInt(e,10)),t.normalize=(e="")=>"day"===(e=(e=(e=(e=e.toLowerCase().trim()).replace(/ies$/,"y")).replace(/s$/,"")).replace(/-/g,""))?"date":e,t.getEpoch=e=>"number"==typeof e?e:t.isDate(e)?e.getTime():e.epoch?e.epoch:null,t.beADate=(e,a)=>!1===t.isObject(e)?a.clone().set(e):e,t.formatTimezone=(e,a="")=>{const n=Math.abs(e);return`${e>0?"+":"-"}${t.zeroPad(n)}${a}00`}});e.isLeapYear,e.isDate,e.isArray,e.isObject,e.zeroPad,e.titleCase,e.ordinal,e.toCardinal,e.normalize,e.getEpoch,e.beADate,e.formatTimezone;const t=e.zeroPad;var a=(e,a,n,r)=>{let o=new Date(e),i=(o.getTimezoneOffset()||0)+60*r;i=60*i*1e3;let s=(e=>t(e.getMonth()+1)+"/"+t(e.getDate())+":"+t(e.getHours()))(o=new Date(e+i));return s>=a&&s<n};var n,r=e=>{let t=e.timezones[e.tz];if(void 0===t)return console.warn("Warning: couldn't find timezone "+e.tz),0;if(void 0===t.dst)return t.offset;let n=t.offset,r=t.offset+1;"n"===t.hem&&(r=n-1);let o=t.dst.split("->");return!0===a(e.epoch,o[0],o[1],n)?n:r},o=["africa","america","asia","atlantic","australia","brazil","canada","chile","europe","indian","mexico","pacific","antarctica","etc"],i=(n=Object.freeze({default:{"9|s":"2/dili,2/jayapura","9|n":"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau","9.5|s|04/07:03->10/06:02":"4/adelaide,4/broken_hill,4/south,4/yancowinna","9.5|s":"4/darwin,4/north","8|s":"12/casey,2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west","8|n|03/25:03->09/29:23":"2/ulan_bator","8|n":"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar","8.75|s":"4/eucla","7|s":"12/davis,2/jakarta,9/christmas","7|n":"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane","6|s":"12/vostok","6|n":"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/thimbu,2/thimphu,2/urumqi,9/chagos","6.5|n":"2/rangoon,9/cocos","5|s":"12/mawson,9/kerguelen","5|n":"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives","5.75|n":"2/kathmandu,2/katmandu","5.5|n":"2/calcutta,2/colombo,2/kolkata","4|s":"9/reunion","4|n":"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius","4.5|n|03/22:00->09/21:24":"2/tehran","4.5|n":"2/kabul","3|s":"12/syowa,9/antananarivo","3|n|03/31:03->10/27:04":"2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye","3|n|03/31:02->10/27:03":"8/chisinau,8/tiraspol","3|n|03/31:00->10/26:24":"2/beirut","3|n|03/29:02->10/27:02":"2/jerusalem,2/tel_aviv","3|n|03/29:00->10/25:01":"2/amman","3|n|03/29:00->10/24:24":"2/damascus","3|n|03/23:01->10/26:01":"2/gaza,2/hebron","3|n":"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte","2|s|03/31:02->10/27:02":"12/troll","2|s":"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane","2|n|03/31:02->10/27:03":"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich","2|n":"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad","1|s|04/02:01->09/03:03":"0/windhoek","1|s":"0/kinshasa,0/luanda","1|n|05/05:03->06/09:02":"0/casablanca,0/el_aaiun","1|n|03/31:01->10/27:02":"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london","1|n":"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis","14|n":"11/kiritimati","13|s|04/07:04->09/29:03":"11/apia","13|s|01/15:02->11/05:03":"11/tongatapu","13|n":"11/enderbury,11/fakaofo","12|s|04/07:03->09/29:02":"12/mcmurdo,12/south_pole,11/auckland","12|s|01/13:03->11/03:02":"11/fiji","12|n":"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis","12.75|s|04/07:03->04/07:02":"11/chatham","11|s":"12/macquarie,11/bougainville","11|n":"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape","11.5|n":"11/norfolk","10|s|04/07:03->10/06:02":"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria","10|s":"12/dumontdurville,4/brisbane,4/lindeman,4/queensland","10|n":"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap","10.5|s|04/07:01->10/06:02":"4/lhi,4/lord_howe","0|n|03/31:00->10/27:01":"1/scoresbysund,3/azores","0|n":"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu","-9|n|03/10:02->11/03:02":"1/adak,1/atka","-9|n":"11/gambier","-9.5|n":"11/marquesas","-8|n|03/10:02->11/03:02":"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat","-8|n":"11/pitcairn","-7|n|03/10:02->11/03:02":"1/dawson,1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,1/whitehorse,6/pacific,6/yukon,10/bajanorte","-7|n":"1/creston,1/dawson_creek,1/hermosillo,1/phoenix","-6|s|04/06:22->09/07:22":"7/easterisland,11/easter","-6|n|04/07:02->10/27:02":"1/chihuahua,1/mazatlan,10/bajasur","-6|n|03/10:02->11/03:02":"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain","-6|n":"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos","-5|s":"1/lima,1/rio_branco,5/acre","-5|n|04/07:02->10/27:02":"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general","-5|n|03/12:03->11/05:01":"1/north_dakota","-5|n|03/10:02->11/03:02":"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central","-5|n":"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre","-4|s|05/13:23->08/13:01":"12/palmer","-4|s|04/06:24->09/08:00":"1/santiago,7/continental","-4|s|03/23:24->10/06:00":"1/asuncion","-4|s|02/16:24->11/03:00":"1/campo_grande,1/cuiaba","-4|s":"1/la_paz,1/manaus,5/west","-4|n|03/12:03->11/05:01":"1/indiana,1/kentucky","-4|n|03/10:02->11/03:02":"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern","-4|n|03/10:00->11/03:01":"1/havana","-4|n":"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin","-3|s|02/16:24->11/03:00":"1/sao_paulo,5/east","-3|s":"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,12/rothera,3/stanley","-3|n|03/10:02->11/03:02":"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic","-3|n":"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem","-2|s":"5/denoronha","-2|n|03/30:22->10/26:23":"1/godthab","-2|n|03/10:02->11/03:02":"1/miquelon","-2|n":"1/noronha,3/south_georgia","-2.5|n|03/10:02->11/03:02":"1/st_johns,6/newfoundland","-1|n":"3/cape_verde","-11|n":"11/midway,11/niue,11/pago_pago,11/samoa","-10|n":"11/honolulu,11/johnston,11/rarotonga,11/tahiti"}}))&&n.default||n;let s={};Object.keys(i).forEach(e=>{let t=e.split("|"),a={offset:Number(t[0]),hem:t[1]};t[2]&&(a.dst=t[2]),i[e].split(",").forEach(e=>{e=e.replace(/(^[0-9]+)\//,(e,t)=>(t=Number(t),o[t]+"/")),s[e]=a})}),s.utc={offset:0,hem:"n"};for(let e=-13;e<=13;e+=.5){let t=e;t>0&&(t="+"+t);let a="etc/gmt"+t;s[a]={offset:-1*e,hem:"n"},s[a="utc/gmt"+t]={offset:-1*e,hem:"n"}}var l=s;const u={"america/halifax":["ast","adt","atlantic"],"america/new_york":["est","edt","eastern"],"america/chicago":["cst","cdt","central"],"america/denver":["mst","mdt","mountain"],"america/los_angeles":["pst","pdt","pacific"],"america/anchorage":["ahst","ahdt","akst","akdt","alaska"],"america/st_johns":["nst","ndt","nt","newfoundland","nddt"],"america/caracas":["vet",null,"venezuela"],"america/bogota":["cot",null,"colombia"],"america/cayenne":["gft",null,"french guiana"],"america/paramaribo":["srt",null,"suriname"],"america/guyana":["gyt"],"america/buenos_aires":["art",null,"argentina"],"america/la_paz":["bot",null,"bolivia"],"america/asuncion":["pyt","pyst","paraguay"],"america/santiago":["clt","clst","chile"],"america/lima":["pet",null,"peru"],"america/montevideo":["uyt",null,"uruguay"],"atlantic/stanley":["fkst",null,"falkland island"],"america/manaus":["amt"],"america/sao_paulo":["brt","brst"],"brazil/acre":["act"],"europe/london":["gmt","bst","british"],"etc/gmt":["gmt",null,"greenwich"],"europe/lisbon":["wet","west","west europe"],"europe/berlin":["cet","cest","central europe","middle european","met","mest"],"europe/riga":["eet","eest","east europe","kalt"],"europe/moscow":["msk",null,"fet","mdst","msd"],"europe/samara":["samt"],"asia/yekaterinburg":["yekt"],"asia/omsk":["omst"],"asia/krasnoyarsk":["krat"],"asia/novosibirsk":["novt"],"asia/irkutsk":["irkt"],"asia/yakutsk":["yakt"],"asia/vladivostok":["vlat"],"asia/magadan":["magt"],"asia/sakhalin":["sakt"],"asia/srednekolymsk":["sret"],"asia/anadyr":["anat"],"asia/kamchatka":["pett"],"asia/tashkent":["uzt","uzbekistan"],"asia/bishkek":["kgt","kyrgyzstan"],"antarctica/vostok":["vost"],"asia/hovd":["hovt"],"asia/ashgabat":["tmt",null,"turkmenistan"],"africa/lagos":["wat","wast","west africa"],"africa/khartoum":["cat",null,"central africa"],"africa/nairobi":["eat",null,"east africa"],"atlantic/cape_verde":["cvt"],"indian/mauritius":["mut"],"indian/reunion":["ret"],"africa/johannesburg":["sast",null,"south africa"],"atlantic/azores":["azot","azost","hmt"],"america/godthab":["wgt","wgst","west greenland"],"america/scoresbysund":["egt","egst","east greenland"],"europe/istanbul":["trt",null,"turkey"],"asia/tbilisi":["get",null,"georgia"],"asia/baku":["azt",null,"azerbaijan"],"asia/jerusalem":[null,"idt","israel","jmt","iddt"],"asia/tehran":["irst","irdt","iran"],"asia/karachi":["pkt",null,"pakistan"],"asia/kabul":["aft",null,"afghanistan"],"asia/dushanbe":["tjt",null,"tajikistan"],"asia/almaty":["almt",null,"alma ata"],"asia/dubai":["gst",null,"gulf"],"asia/kolkata":["ist",null,"india","slst"],"asia/thimbu":["btt",null,"bhutan"],"indian/maldives":["mvt"],"asia/kathmandu":["npt",null,"nepal"],"indian/cocos":["cct",null,"cocos island"],"indian/chagos":["iot",null,"indian chagos"],"indian/kerguelen":["tft",null,"french southern and antarctic"],"asia/shanghai":["ct",null,"china","hkt"],"asia/ulaanbaatar":["ulat"],"asia/seoul":["kst",null,"korea"],"asia/tokyo":["jst",null,"japan"],"asia/phnom_penh":["ict",null,"indochina"],"asia/manila":["pht",null,"philippines"],"asia/singapore":["sgt"],"australia/brisbane":["aest","aedt","australian east"],"australia/adelaide":["acst","acdt","australian central"],"australia/eucla":["acwst",null,"cwst","australian central western"],"australia/perth":["awst","awdt","australian west"],"pacific/auckland":["nzst","nzdt","nzmt"],"australia/lord_howe":["lhst","lhdt"],"pacific/guam":["chst"],"pacific/chatham":["chast","chadt"],"pacific/honolulu":["hst"],"asia/brunei":["bnt",null,"bdt"],"pacific/midway":["sst",null,"samoa","sdt"],"pacific/niue":["nut"],"pacific/fakaofo":["tkt"],"pacific/rarotonga":["ckt",null,"cook islands"],"chile/easterisland":["east","easst","easter island","emt"],"asia/jayapura":["wit",null,"east indonesia"],"asia/jakarta":["wib",null,"west indonesia"],"asia/makassar":["wita",null,"central indonesia"],"pacific/galapagos":["galt"],"pacific/fiji":["fjt","fjst"],"asia/dili":["tlt",null,"east timor"],"indian/christmas":["cxt"]},c=Object.keys(u).reduce((e,t)=>{let a=u[t];for(let n=0;n<5;n+=1)a[n]&&(e[a[n]]=t);return e},{});var h={informal:u,lookup:c};const d=h.lookup,m=(()=>{let e=(()=>{if("undefined"==typeof Intl||void 0===Intl.DateTimeFormat)return null;let e=Intl.DateTimeFormat();if(void 0===e||void 0===e.resolvedOptions)return null;let t=e.resolvedOptions().timeZone;return t?t.toLowerCase():null})();return null===e?"utc":e})(),p=/(\-?[0-9]+)h(rs)?/,f=Object.keys(l).reduce((e,t)=>{let a=t.split("/")[1]||"";return e[a=a.replace(/_/g," ")]=t,e},{});var y=(e,t)=>{if(!e)return m;let a=e.trim(),n=e.split("/");if(n.length>2&&!1===t.hasOwnProperty(a)&&(a=n[0]+"/"+n[1]),a=a.toLowerCase(),!0===t.hasOwnProperty(a))return a;if(a=(e=>e=(e=(e=(e=(e=(e=e.replace(/ time/g,"")).replace(/ (standard|daylight|summer)/g,"")).replace(/\b(east|west|north|south)ern/g,"$1")).replace(/\b(africa|america|australia)n/g,"$1")).replace(/\beuropean/g,"europe")).replace(/\islands/g,"island"))(a),!0===t.hasOwnProperty(a))return a;if(!0===d.hasOwnProperty(a))return d[a];if(!0===f.hasOwnProperty(a))return f[a];let r=a.match(p);if(null!==r){let e=Number(r[1]),a="etc/gmt"+(e=((e*=-1)>0?"+":"")+e);if(t.hasOwnProperty(a))return a}return console.warn("Cannot find timezone named: '"+e+"'"),m};let g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};g.date=g.day,g.month=25488e5,g.week=6048e5,g.year=3154e7,Object.keys(g).forEach(e=>{g[e+"s"]=g[e]});var b=g;const k=(e,t,a,n,r)=>{let o=e.d[a]();if(o===t)return;let i=null===r?null:e.d[r](),s=e.epoch,l=t-o;e.epoch+=b[n]*l,"day"===n&&Math.abs(l)>28&&t<28&&(e.epoch+=b.hour);const u=b[n]/2;for(;e.d[a]()<t;)e.epoch+=u;for(;e.d[a]()>t;)e.epoch-=u;null!==r&&i!==e.d[r]()&&(e.epoch=s,e.epoch+=b[n]*l*.97)},w={year:{valid:e=>e>-4e3&&e<4e3,walkTo:(e,t)=>k(e,t,"getFullYear","year",null)},month:{valid:e=>e>=0&&e<=11,walkTo:(e,t)=>{let a=e.d,n=a.getMonth(),r=e.epoch,o=a.getYear();if(n===t)return;let i=t-n;for(e.epoch+=b.day*(28*i),o!==e.d.getYear()&&(e.epoch=r);e.d.getMonth()<t;)e.epoch+=b.day;for(;e.d.getMonth()>t;)e.epoch-=b.day}},date:{valid:e=>e>0&&e<=31,walkTo:(e,t)=>k(e,t,"getDate","day","getMonth")},hour:{valid:e=>e>=0&&e<24,walkTo:(e,t)=>k(e,t,"getHours","hour","getDate")},minute:{valid:e=>e>=0&&e<60,walkTo:(e,t)=>k(e,t,"getMinutes","minute","getHours")},second:{valid:e=>e>=0&&e<60,walkTo:(e,t)=>{e.epoch=e.seconds(t).epoch}},millisecond:{valid:e=>e>=0&&e<1e3,walkTo:(e,t)=>{e.epoch=e.milliseconds(t).epoch}}};var v=(e,t)=>{let a=Object.keys(w),n=e.clone();for(let r=0;r<a.length;r++){let o=a[r],i=t[o];if(void 0===i&&(i=n[o]()),"string"==typeof i&&(i=parseInt(i,10)),!w[o].valid(i))return e.epoch=null,void(!1===e.silent&&console.warn("invalid "+o+": "+i));w[o].walkTo(e,i)}};let z=["jan","feb","mar","apr","may","jun","jul","aug","sept","oct","nov","dec"],j=["january","february","march","april","may","june","july","august","september","october","november","december"];var O=()=>z,_=()=>j,D=()=>(function(){const e={sep:8};for(let t=0;t<z.length;t++)e[z[t]]=t;for(let t=0;t<j.length;t++)e[j[t]]=t;return e})(),$=e=>{z=e.short||z,j=e.long||j};var P=(e,t)=>{if(!t)return e;"Z"===t&&(t="+0000");let a=0;/^[\+-]?[0-9]{2}:[0-9]{2}$/.test(t)&&(!0===/:00/.test(t)&&(t=t.replace(/:00/,"")),!0===/:30/.test(t)&&(t=t.replace(/:30/,".5"))),/^[\+-]?[0-9]{4}$/.test(t)&&(t=t.replace(/30$/,".5")),a=parseFloat(t),Math.abs(a)>100&&(a/=100),(a*=-1)>=0&&(a="+"+a);let n="etc/gmt"+a;return e.timezones[n]&&(e.tz=n),e};var M=(e,t="")=>{let a=(t=t.replace(/^\s+/,"").toLowerCase()).match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\.]?([0-9]{1,4})?/);if(null!==a){let n=Number(a[1]);if(n<0||n>24)return e.startOf("day");let r=Number(a[2]);if(a[2].length<2||r<0||r>59)return e.startOf("day");e=(e=(e=(e=e.hour(n)).minute(r)).seconds(a[3]||0)).millisecond(a[4]||0);let o=t.match(/[\b0-9](am|pm)\b/);return null!==o&&o[1]&&(e=e.ampm(o[1])),e}if(null!==(a=t.match(/([0-9]+) ?(am|pm)/))&&a[1]){let t=Number(a[1]);return t>12||t<1?e.startOf("day"):e=(e=(e=e.hour(a[1]||0)).ampm(a[2])).startOf("hour")}return e=e.startOf("day")};var S=[31,28,31,30,31,30,31,31,30,31,30,31];const C=e.isLeapYear;var q=e=>{if(!0!==S.hasOwnProperty(e.month))return!1;if(1===e.month)return!!(C(e.year)&&e.date<=29)||e.date<=28;let t=S[e.month]||0;return e.date<=t};const E=D(),T=(e="")=>{let t=parseInt(e.trim(),10);return t=t||(new Date).getFullYear()};var I=[{reg:/^(\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\-\+:]+)?$/,parse:(e,t,a,n)=>{let r=parseInt(t[2],10)-1,o={year:t[1],month:r,date:t[3]};return!1===q(o)?(e.epoch=null,e):(P(e,t[5]),v(e,o),e=M(e,t[4]))}},{reg:/^([0-9]{4})[\-\/]([0-9]{1,2})[\-\/]([0-9]{1,2})$/,parse:(e,t)=>{let a={year:t[1],month:parseInt(t[2],10)-1,date:parseInt(t[3],10)};return a.month>=12&&(a.date=parseInt(t[2],10),a.month=parseInt(t[3],10)-1),!1===q(a)?(e.epoch=null,e):(v(e,a),e=M(e))}},{reg:/^([0-9]{1,2})[\-\/]([0-9]{1,2})[\-\/]?([0-9]{4})?$/,parse:(e,t)=>{let a=parseInt(t[1],10)-1,n=parseInt(t[2],10);a>=12&&(a=parseInt(t[2],10)-1,n=parseInt(t[1],10));let r={year:t[3]||(new Date).getFullYear(),month:a,date:n};return!1===q(r)?(e.epoch=null,e):(v(e,r),e=M(e))}},{reg:/^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm)?))?$/i,parse:(t,a)=>{let n=E[a[1].toLowerCase()],r={year:T(a[3]),month:n,date:e.toCardinal(a[2]||"")};return!1===q(r)?(t.epoch=null,t):(v(t,r),t=M(t,a[4]))}},{reg:/^([a-z]+) ([0-9]{4})$/i,parse:(e,t)=>{let a=E[t[1].toLowerCase()],n={year:T(t[2]),month:a,date:1};return!1===q(n)?(e.epoch=null,e):(v(e,n),e=M(e,t[4]))}},{reg:/^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?$/i,parse:(t,a)=>{let n=E[a[2].toLowerCase()],r={year:T(a[3]),month:n,date:e.toCardinal(a[1])};return!1===q(r)?(t.epoch=null,t):(v(t,r),t=M(t))}},{reg:/^[0-9]{4}$/i,parse:(e,t)=>{let a=T(t[0]),n=new Date,r={year:a,month:n.getMonth(),date:n.getDate()};return!1===q(r)?(e.epoch=null,e):(v(e,r),e=M(e))}},{reg:/^[0-9,]+ ?b\.?c\.?$/i,parse:(e,t)=>{let a=t[0]||"";a=(a=a.replace(/^([0-9,]+) ?b\.?c\.?$/i,"-$1")).replace(/,/g,"");let n=parseInt(a.trim(),10),r=new Date,o={year:n,month:r.getMonth(),date:r.getDate()};return!1===q(o)?(e.epoch=null,e):(v(e,o),e=M(e))}}];const x={now:e=>(e.epoch=Date.now(),e),tonight:e=>(e.epoch=Date.now(),e=e.hour(18)),today:e=>(e.epoch=Date.now(),e),tomorrow:e=>(e.epoch=Date.now(),e=(e=e.add(1,"day")).startOf("day")),yesterday:e=>(e.epoch=Date.now(),e=(e=e.subtract(1,"day")).startOf("day")),christmas:e=>{let t=(new Date).getFullYear();return e=e.set([t,11,25,18,0,0])},"new years":e=>{let t=(new Date).getFullYear();return e=e.set([t,11,31,18,0,0])}};x["new years eve"]=x["new years"];var A=x;const Y={year:(new Date).getFullYear(),month:0,date:1};var N=(t,a,n)=>{if("number"==typeof a)return a>0&&a<25e8&&!1===t.silent&&(console.warn("  - Warning: You are setting the date to January 1970."),console.warn("       -   did input seconds instead of milliseconds?")),t.epoch=a,t;if(t.epoch=Date.now(),null==a)return t;if(!0===e.isDate(a))return t.epoch=a.getTime(),t;if(!0===e.isArray(a))return t=((e,t)=>{let a=["year","month","date","hour","minute","second","millisecond"];for(let n=0;n<a.length;n++){let r=t[n]||Y[a[n]]||0;e=e[a[n]](r)}return e})(t,a);if(!0===e.isObject(a))return a.epoch?(t.epoch=a.epoch,t.tz=a.tz,t):t=((e,t)=>{t=Object.assign({},Y,t);let a=Object.keys(t);for(let n=0;n<a.length;n++){let r=a[n];if(void 0===e[r]||"function"!=typeof e[r])continue;if(null===t[r]||void 0===t[r]||""===t[r])continue;let o=t[r]||Y[r]||0;e=e[r](o)}return e})(t,a);if("string"!=typeof a)return t;if(a=(a=(a=a.replace(/\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\b/i,"")).replace(/,/g,"")).replace(/ +/g," ").trim(),!0===A.hasOwnProperty(a))return t=A[a](t);for(let e=0;e<I.length;e++){let r=a.match(I[e].reg);if(r)return t=I[e].parse(t,r,n)}return!1===t.silent&&console.warn("Warning: couldn't parse date-string: '"+a+"'"),t.epoch=null,t};let L=["sun","mon","tue","wed","thu","fri","sat"],F=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];var Z=()=>L,H=()=>F,B=e=>{L=e.short||L,F=e.long||F};var G=t=>{let a=t.timezone().current.offset;const n=a<0;let r="00";return.5===Math.abs(a%1)&&(r="30",a=a>=0?Math.floor(a):Math.ceil(a)),n?(a*=-1,a="-"+(a=e.zeroPad(a,2))):a="+"+(a=e.zeroPad(a,2)),"+00:00"===(a=a+":"+r)&&(a="Z"),a};const Q={day:t=>e.titleCase(t.dayName()),"day-short":t=>e.titleCase(Z()[t.day()]),"day-number":e=>e.day(),"day-ordinal":t=>e.ordinal(t.day()),"day-pad":t=>e.zeroPad(t.day()),date:e=>e.date(),"date-ordinal":t=>e.ordinal(t.date()),"date-pad":t=>e.zeroPad(t.date()),month:t=>e.titleCase(t.monthName()),"month-short":t=>e.titleCase(O()[t.month()]),"month-number":e=>e.month(),"month-ordinal":t=>e.ordinal(t.month()),"month-pad":t=>e.zeroPad(t.month()),"iso-month":t=>e.zeroPad(t.month()+1),year:e=>{let t=e.year();return t>0?t:(t=Math.abs(t))+" BC"},"year-short":e=>{let t=e.year();return t>0?`'${String(e.year()).substr(2,4)}`:(t=Math.abs(t))+" BC"},"iso-year":t=>{let a=t.year(),n=a<0,r=e.zeroPad(Math.abs(a),4);return n&&(r="-"+(r=e.zeroPad(r,6))),r},time:e=>e.time(),"time-24":t=>`${t.hour24()}:${e.zeroPad(t.minute())}`,hour:e=>e.hour12(),"hour-pad":t=>e.zeroPad(t.hour12()),"hour-24":e=>e.hour24(),"hour-24-pad":t=>e.zeroPad(t.hour24()),minute:e=>e.minute(),"minute-pad":t=>e.zeroPad(t.minute()),second:e=>e.second(),"second-pad":t=>e.zeroPad(t.second()),ampm:e=>e.ampm(),quarter:e=>"Q"+e.quarter(),season:e=>e.season(),era:e=>e.era(),timezone:e=>e.timezone().name,offset:e=>G(e),numeric:t=>`${t.year()}/${e.zeroPad(t.month()+1)}/${e.zeroPad(t.date())}`,"numeric-us":t=>`${e.zeroPad(t.month()+1)}/${e.zeroPad(t.date())}/${t.year()}`,"numeric-uk":t=>`${e.zeroPad(t.date())}/${e.zeroPad(t.month()+1)}/${t.year()}`,"mm/dd":t=>`${e.zeroPad(t.month()+1)}/${e.zeroPad(t.date())}`,iso:t=>{return`${t.format("iso-year")}-${e.zeroPad(t.month()+1)}-${e.zeroPad(t.date())}T${e.zeroPad(t.h24())}:${e.zeroPad(t.minute())}:${e.zeroPad(t.second())}.${e.zeroPad(t.millisecond(),3)}${G(t)}`},"iso-short":t=>{let a=e.zeroPad(t.month()+1),n=e.zeroPad(t.date());return`${t.year()}-${a}-${n}`},"iso-utc":e=>new Date(e.epoch).toISOString(),nice:t=>`${O()[t.month()]} ${e.ordinal(t.date())}, ${t.time()}`,"nice-year":t=>`${O()[t.month()]} ${e.ordinal(t.date())}, ${t.year()}`,"nice-day":t=>`${Z()[t.day()]} ${e.titleCase(O()[t.month()])} ${e.ordinal(t.date())}`,"nice-full":t=>`${t.dayName()} ${e.titleCase(t.monthName())} ${e.ordinal(t.date())}, ${t.time()}`},U={"day-name":"day","month-name":"month","iso 8601":"iso","time-h24":"time-24","time-12":"time","time-h12":"time",tz:"timezone","day-num":"day-number","month-num":"month-number","month-iso":"iso-month","year-iso":"iso-year","nice-short":"nice",mdy:"numeric-us",dmy:"numeric-uk",ymd:"numeric","yyyy/mm/dd":"numeric","mm/dd/yyyy":"numeric-us","dd/mm/yyyy":"numeric-us","little-endian":"numeric-uk","big-endian":"numeric","day-nice":"nice-day"};Object.keys(U).forEach(e=>Q[e]=Q[U[e]]);var W=(t,a="")=>{if(!0!==t.isValid())return"";if(Q.hasOwnProperty(a)){let n=String(Q[a](t)||"");return"ampm"!==a&&(n=e.titleCase(n)),n}if(-1!==a.indexOf("{")){let e=/\{(.+?)\}/g;return a=a.replace(e,(e,a)=>(a=a.toLowerCase().trim(),Q.hasOwnProperty(a)?String(Q[a](t)||""):""))}return t.format("iso-short")};const V=e.zeroPad,J=e.formatTimezone,K={G:e=>e.era(),GG:e=>e.era(),GGG:e=>e.era(),GGGG:e=>"AD"===e.era()?"Anno Domini":"Before Christ",y:e=>e.year(),yy:e=>parseInt(String(e.year()).substr(2,4),10),yyy:e=>e.year(),yyyy:e=>e.year(),yyyyy:e=>"0"+e.year(),Q:e=>e.quarter(),QQ:e=>e.quarter(),QQQ:e=>e.quarter(),QQQQ:e=>e.quarter(),M:e=>e.month()+1,MM:e=>V(e.month()+1),MMM:e=>e.format("month-short"),MMMM:e=>e.format("month"),w:e=>e.week(),ww:e=>V(e.week()),d:e=>e.date(),dd:e=>V(e.date()),D:e=>e.dayOfYear(),DD:e=>V(e.dayOfYear()),DDD:e=>V(e.dayOfYear(),3),E:e=>e.format("day-short"),EE:e=>e.format("day-short"),EEE:e=>e.format("day-short"),EEEE:e=>e.format("day"),EEEEE:e=>e.format("day")[0],e:e=>e.day(),ee:e=>e.day(),eee:e=>e.format("day-short"),eeee:e=>e.format("day"),eeeee:e=>e.format("day")[0],a:e=>e.ampm().toUpperCase(),aa:e=>e.ampm().toUpperCase(),aaa:e=>e.ampm().toUpperCase(),aaaa:e=>e.ampm().toUpperCase(),h:e=>e.h12(),hh:e=>V(e.h12()),H:e=>e.hour(),HH:e=>V(e.hour()),m:e=>e.minute(),mm:e=>V(e.minute()),s:e=>e.second(),ss:e=>V(e.second()),A:e=>e.epoch-e.startOf("day").epoch,z:e=>e.timezone().name,zz:e=>e.timezone().name,zzz:e=>e.timezone().name,zzzz:e=>e.timezone().name,Z:e=>J(e.timezone().current.offset),ZZ:e=>J(e.timezone().current.offset),ZZZ:e=>J(e.timezone().current.offset),ZZZZ:e=>J(e.timezone().current.offset,":")},R=(e,t,a)=>{let n=e,r=t;for(let o=0;o<a;o+=1)K[n]=K[r],n+=e,r+=t};R("q","Q",4),R("L","M",4),R("Y","y",4),R("c","e",4),R("k","H",2),R("K","h",2),R("S","s",2),R("v","z",4),R("V","Z",4);var X=(e,t)=>{let a=t.split(""),n=[a[0]],r=!1;for(let e=1;e<a.length;e+=1){if("'"===a[e]){if(!0!==(r=!r)||!a[e+1]||"'"!==a[e+1])continue;r=!0}!0===r||a[e]===n[n.length-1][0]?n[n.length-1]+=a[e]:n.push(a[e])}return n.reduce((t,a)=>(void 0!==K[a]?t+=K[a](e)||"":t+=a,t),"")};const ee=["year","season","quarter","month","week","day","quarterHour","hour","minute"],te=function(e,t){let a=e.clone().startOf(t),n=e.clone().endOf(t).epoch-a.epoch,r=(e.epoch-a.epoch)/n;return parseFloat(r.toFixed(2))};var ae=(t,a)=>{if(a)return a=e.normalize(a),te(t,a);let n={};return ee.forEach(e=>{n[e]=te(t,e)}),n};var ne=(t,a)=>{let n=t.progress();return"quarterhour"===(a=e.normalize(a))&&(a="quarterHour"),void 0!==n[a]?(n[a]>.5&&(t=t.add(1,a)),t=t.startOf(a)):!1===t.silent&&console.warn("no known unit '"+a+"'"),t};const re=(e,t,a)=>{let n=0;for(e=e.clone();e.isBefore(t);)e=e.add(1,a),n+=1;return e.isAfter(t,a)&&(n-=1),n};var oe=(e,t,a)=>e.isBefore(t)?re(e,t,a):-1*re(t,e,a);var ie=function(e,t){let a=t.epoch-e.epoch,n={milliseconds:a,seconds:parseInt(a/1e3,10)};n.minutes=parseInt(n.seconds/60,10),n.hours=parseInt(n.minutes/60,10);let r=e.clone();return n.years=((e,t)=>{let a=t.year()-e.year();return(e=e.year(t.year())).isAfter(t)&&(a-=1),a})(r,t),r=e.add(n.years,"year"),n.months=12*n.years,r=e.add(n.months,"month"),n.months+=oe(r,t,"month"),n.weeks=52*n.years,r=e.add(n.weeks,"week"),n.weeks+=oe(r,t,"week"),n.days=7*n.weeks,r=e.add(n.days,"day"),n.days+=oe(r,t,"day"),n};var se=function(t,a,n){a=e.beADate(a,t);let r=!1;if(t.isAfter(a)){let e=t;t=a,a=e,r=!0}let o=ie(t,a);return r&&(o=function(e){return Object.keys(e).forEach(t=>{e[t]*=-1}),e}(o)),n?(n=e.normalize(n),!0!==/s$/.test(n)&&(n+="s"),"dates"===n&&(n="days"),o[n]):o};const le={months:{almost:10,over:4},days:{almost:25,over:10},hours:{almost:20,over:8},minutes:{almost:50,over:20},seconds:{almost:50,over:20}};function ue(e,t){return 1===e&&(t=t.slice(0,-1)),e+" "+t}var ce=(t,a)=>{const n=function(e,t){const a=e.isBefore(t),n=a?t:e;let r=a?e:t;r=r.clone();const o={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return Object.keys(o).forEach(e=>{if(r.isSame(n,e))return;let t=r.diff(n,e);r=r.add(t,e),o[e]=t}),a&&Object.keys(o).forEach(e=>{0!==o[e]&&(o[e]*=-1)}),o}(t,a=e.beADate(a,t));if(!0===Object.keys(n).every(e=>!n[e]))return{diff:n,rounded:"now",qualified:"now",precise:"now"};let r,o,i,s=[];return Object.keys(n).forEach((e,t,a)=>{const i=Math.abs(n[e]);if(0===i)return;const l=ue(i,e);if(s.push(l),!r){if(r=o=l,t>4)return;const s=a[t+1],u=Math.abs(n[s]);u>le[s].almost?(r=ue(i+1,e),o="almost "+r):u>le[s].over&&(o="over "+l)}}),i=s.splice(0,2).join(", "),!0===t.isAfter(a)?(r+=" ago",o+=" ago",i+=" ago"):(r="in "+r,o="in "+o,i="in "+i),{diff:n,rounded:r,qualified:o,precise:i}},he={north:[["spring",2,1],["summer",5,1],["fall",8,1],["autumn",8,1],["winter",11,1]],south:[["fall",2,1],["autumn",2,1],["winter",5,1],["spring",8,1],["summer",11,1]]},de=[null,[0,1],[3,1],[6,1],[9,1]];const me={minute:e=>(v(e,{second:0,millisecond:0}),e),quarterhour:e=>{let t=e.minutes();return e=t>=45?e.minutes(45):t>=30?e.minutes(30):t>=15?e.minutes(15):e.minutes(0),v(e,{second:0,millisecond:0}),e},hour:e=>(v(e,{minute:0,second:0,millisecond:0}),e),day:e=>(v(e,{hour:0,minute:0,second:0,millisecond:0}),e),week:e=>{let t=e.clone();return(e=e.day(e._weekStart)).isAfter(t)&&(e=e.subtract(1,"week")),v(e,{hour:0,minute:0,second:0,millisecond:0}),e},month:e=>(v(e,{date:1,hour:0,minute:0,second:0,millisecond:0}),e),quarter:e=>{let t=e.quarter();return de[t]&&v(e,{month:de[t][0],date:de[t][1],hour:0,minute:0,second:0,millisecond:0}),e},season:e=>{let t=e.season(),a="north";"South"===e.hemisphere()&&(a="south");for(let n=0;n<he[a].length;n++)if(he[a][n][0]===t){let r=e.year();return"winter"===t&&e.month()<3&&(r-=1),v(e,{year:r,month:he[a][n][1],date:he[a][n][2],hour:0,minute:0,second:0,millisecond:0}),e}return e},year:e=>(v(e,{month:0,date:1,hour:0,minute:0,second:0,millisecond:0}),e),decade:e=>{let t=(e=e.startOf("year")).year(),a=10*parseInt(t/10,10);return e=e.year(a)},century:e=>{let t=(e=e.startOf("year")).year(),a=100*parseInt(t/100,10);return e=e.year(a)}};me.date=me.day;var pe=(t,a)=>{let n=t.clone();return a=e.normalize(a),me[a]?me[a](n):"summer"===a||"winter"===a?(n=n.season(a),me.season(n)):n},fe=(t,a)=>{let n=t.clone();return a=e.normalize(a),me[a]?n=(n=(n=me[a](n)).add(1,a)).subtract(1,"milliseconds"):n};var ye=function(t,a="",n){if(!a||!n)return[];if(a=e.normalize(a),n=t.clone().set(n),t.isAfter(n)){let e=t;t=n,n=e}let r=t.clone();!function(e){return!!Z().find(t=>t===e)||!!H().find(t=>t===e)}(a)?r=r.next(a):(r=r.next(a),a="week");let o=[];for(;r.isBefore(n);)o.push(r),r=r.add(1,a);return o};const ge=h.informal,be={"-8":"america/anchorage","-7":"america/los_angeles","-6":"america/denver","-5":"america/chicago","-4":"america/new_york","-3":"america/halifax",0:"etc/gmt",1:"europe/lisbon",2:"europe/berlin",8:"asia/shanghai"},ke={"-3":"america/sao_paulo",0:"etc/gmt",1:"africa/lagos",2:"africa/johannesburg",3:"africa/nairobi",10:"australia/brisbane",12:"pacific/auckland"},we={"europe/belfast":!0,"europe/dublin":!0,"europe/guernsey":!0,"europe/jersey":!0},ve=(e,t)=>e[1]&&!0===t.current.isDST?e[1].toUpperCase():e[0]?e[0].toUpperCase():null;var ze=(e,t)=>{if(ge.hasOwnProperty(e)){let a=ve(ge[e],t);if(null!==a)return a}let a=String(t.default_offset),n=((e,t)=>we.hasOwnProperty(e)?"1"===t?"BST":"GMT":null)(e,a);if(n)return n;if("North"===t.hemisphere&&be.hasOwnProperty(a)){let e=be[a];return ve(ge[e],t)||""}if("South"===t.hemisphere&&ke.hasOwnProperty(a)){let e=ke[a];return ve(ge[e],t)||""}return""};const je=e=>e=(e=(e=e[0].toUpperCase()+e.substr(1)).replace(/\/gmt/,"/GMT")).replace(/[\/_]([a-z])/gi,e=>e.toUpperCase());var Oe=e=>{let t=e.timezones,n=e.tz;if(!1===t.hasOwnProperty(n)&&(n=y(e.tz,t)),null===n)return!1===e.silent&&console.warn("Warn: could not find given or local timezone - '"+e.tz+"'"),{current:{epochShift:0}};let r=t[n],o={name:je(n),hasDst:Boolean(r.dst),default_offset:r.offset,hemisphere:"s"===r.hem?"South":"North",current:{}};if(o.hasDst){let e=(e=>e?e.split("->"):[])(r.dst);o.change={start:e[0],back:e[1]}}let i=r.offset,s=i;return!0===o.hasDst&&(s="North"===o.hemisphere?i-1:r.offset+1),!1===o.hasDst?(o.current.offset=i,o.current.isDST=!1):!0===a(e.epoch,o.change.start,o.change.back,i)?(o.current.offset=i,o.current.isDST="North"===o.hemisphere):(o.current.offset=s,o.current.isDST="South"===o.hemisphere),o.display=ze(n,o),o};const _e={set:function(e,t){let a=this.clone();return a=N(a,e),t&&(this.tz=y(t)),a},timezone:function(){return Oe(this)},isDST:function(){return Oe(this).current.isDST},hasDST:function(){return Oe(this).hasDst},offset:function(){return 60*Oe(this).current.offset},hemisphere:function(){return Oe(this).hemisphere},format:function(e){return W(this,e)},unixFmt:function(e){return X(this,e)},startOf:function(e){return pe(this,e)},endOf:function(e){return fe(this,e)},leapYear:function(){let t=this.year();return e.isLeapYear(t)},progress:function(e){return ae(this,e)},nearest:function(e){return ne(this,e)},diff:function(e,t){return se(this,e,t)},since:function(e){return e||(e=this.clone().set()),ce(this,e)},next:function(e){return this.add(1,e).startOf(e)},last:function(e){return this.subtract(1,e).startOf(e)},isValid:function(){return!(!this.epoch&&0!==this.epoch)&&!isNaN(this.d.getTime())},goto:function(e){let t=this.clone();return t.tz=y(e,t.timezones),t},every:function(e,t){return ye(this,e,t)},isAwake:function(){let e=this.hour();return!(e<8||e>22)},isAsleep:function(){return!this.isAwake()},log:function(){return console.log(""),console.log(W(this,"nice-short")),this},logYear:function(){return console.log(""),console.log(W(this,"full-short")),this},debug:function(){let e=this.timezone(),t=this.format("MM")+" "+this.format("date-ordinal")+" "+this.year();return t+="\n     - "+this.format("time"),console.log("\n\n",t+"\n     - "+e.name+" ("+e.current.offset+")"),this},from:function(e){return(e=this.clone().set(e)).since(this)},fromNow:function(){return this.clone().set(Date.now()).since(this)},weekStart:function(e){if("number"==typeof e)return this._weekStart=e,this;if("string"==typeof e){e=e.toLowerCase().trim();let t=Z().indexOf(e);-1===t&&(t=H().indexOf(e)),-1===t&&(t=1),this._weekStart=t}else console.warn("Spacetime Error: Cannot understand .weekStart() input:",e);return this}};_e.inDST=_e.isDST,_e.round=_e.nearest,_e.each=_e.every;var De=_e;const $e=e=>("string"==typeof e&&(e=parseInt(e,10)),e),Pe=["year","month","date","hour","minute","second","millisecond"],Me=(e,t,a)=>{let n=Pe.indexOf(a),r=Pe.slice(n,Pe.length);for(let a=0;a<r.length;a++){let n=t[r[a]]();e[r[a]](n)}return e};var Se=(e,t)=>{t=$e(t);let a=e.millisecond()-t;return e.epoch-a},Ce=(e,t)=>{t=$e(t);let a=(e.second()-t)*b.second;return e.epoch-a},qe=(e,t)=>{t=$e(t);let a=e.clone(),n=(e.minute()-t)*b.minute;return e.epoch-=n,Me(e,a,"second"),e.epoch},Ee=(e,t)=>{(t=$e(t))>=24?t=24:t<0&&(t=0);let a=e.clone(),n=(e.hour()-t)*b.hour;return e.epoch-=n,v(e,{hour:t}),Me(e,a,"minute"),e.epoch},Te=(e,t)=>{let a=t.match(/([0-9]{1,2}):([0-9]{1,2})(am|pm)?/);if(!a){if(!(a=t.match(/([0-9]{1,2})(am|pm)/)))return e.epoch;a.splice(2,0,"0")}let n=!1,r=parseInt(a[1],10),o=parseInt(a[2],10);return r>12&&(n=!0),!1===n&&("am"===a[3]&&12===r&&(r=0),"pm"===a[3]&&r<12&&(r+=12)),(e=(e=(e=(e=e.hour(r)).minute(o)).second(0)).millisecond(0)).epoch},Ie=(e,t)=>{if((t=$e(t))>28){const a=S[e.month()];t>a&&(t=a)}return t<=0&&(t=1),v(e,{date:t}),e.epoch},xe=(e,t)=>{"string"==typeof t&&(t=D()[t.toLowerCase()]),(t=$e(t))>=12&&(t=11),t<=0&&(t=0);let a=e.date();return a>S[t]&&(a=S[t]),v(e,{month:t,date:a}),e.epoch},Ae=(e,t)=>(t=$e(t),v(e,{year:t}),e.epoch),Ye=(e,t)=>{t=$e(t);let a=e.clone();return(t-=1)<=0?t=0:t>=365&&(t=364),e=(e=e.startOf("year")).add(t,"day"),Me(e,a,"hour"),e.epoch};var Ne={millisecond:function(e){if(void 0!==e){let t=this.clone();return t.epoch=Se(t,e),t}return this.d.getMilliseconds()},second:function(e){if(void 0!==e){let t=this.clone();return t.epoch=Ce(t,e),t}return this.d.getSeconds()},minute:function(e){if(void 0!==e){let t=this.clone();return t.epoch=qe(t,e),t}return this.d.getMinutes()},hour:function(e){let t=this.d;if(void 0!==e){let t=this.clone();return t.epoch=Ee(t,e),t}return t.getHours()},hourFloat:function(e){if(void 0!==e){let t=this.clone(),a=e%1;a*=60;let n=parseInt(e,10);return t.epoch=Ee(t,n),t.epoch=qe(t,a),t}let t=this.d,a=t.getHours(),n=t.getMinutes();return a+(n/=60)},hour12:function(e){let t=this.d;if(void 0!==e){let t=this.clone(),a=(e=""+e).match(/^([0-9]+)(am|pm)$/);if(a){let e=parseInt(a[1],10);"pm"===a[2]&&(e+=12),t.epoch=Ee(t,e)}return t}let a=t.getHours();return a>12&&(a-=12),0===a&&(a=12),a},time:function(t){if(void 0!==t){let e=this.clone();return e.epoch=Te(e,t),e}return`${this.h12()}:${e.zeroPad(this.minute())}${this.ampm()}`},ampm:function(e){let t="am",a=this.hour();if(a>=12&&(t="pm"),"string"!=typeof e)return t;let n=this.clone();return e=e.toLowerCase().trim(),a>=12&&"am"===e?(a-=12,n.hour(a)):a<12&&"pm"===e?(a+=12,n.hour(a)):n},dayTime:function(e){if(void 0!==e){const t={morning:"7:00am",breakfast:"7:00am",noon:"12:00am",lunch:"12:00pm",afternoon:"2:00pm",evening:"6:00pm",dinner:"6:00pm",night:"11:00pm",midnight:"23:59pm"};let a=this.clone();return e=(e=e||"").toLowerCase(),!0===t.hasOwnProperty(e)&&(a=a.time(t[e])),a}let t=this.hour();return t<6?"night":t<12?"morning":t<17?"afternoon":t<22?"evening":"night"},iso:function(e){return void 0!==e?this.set(e):this.format("iso")}};const Le=e=>e=(e=(e=e.minute(0)).second(0)).millisecond(1);var Fe={date:function(e){if(void 0!==e){let t=this.clone();return t.epoch=Ie(t,e),t}return this.d.getDate()},day:function(e){if(void 0===e)return this.d.getDay();let t=this.clone(),a=e;"string"==typeof e&&(e=e.toLowerCase(),-1===(a=Z().indexOf(e))&&(a=H().indexOf(e)));let n=this.d.getDay()-a,r=this.subtract(24*n,"hours");return v(r,{hour:t.hour(),minute:t.minute(),second:t.second()}),r},dayName:function(e){if(void 0===e)return H()[this.day()];let t=this.clone();return t=t.day(e)},week:function(e){if(void 0!==e){let t=this.clone();return t=(t=(t=t.month(0)).date(1)).day("monday"),"december"===(t=Le(t)).monthName()&&(t=t.add(1,"week")),e-=1,t=t.add(e,"weeks")}let t=this.clone();t=(t=t.month(0)).date(1),"december"===(t=(t=Le(t)).day("monday")).monthName()&&(t=t.add(1,"week"));const a=this.epoch;if(t.epoch>a)return 1;for(let e=0;e<52;e++){if(t.epoch>a)return e;t=t.add(1,"week")}return 52},month:function(e){if(void 0!==e){let t=this.clone();return t.epoch=xe(t,e),t}return this.d.getMonth()}};var Ze={dayOfYear:function(e){if(void 0!==e){let t=this.clone();return t.epoch=Ye(t,e),t}let t,a=0,n=this.d.getMonth();for(let e=1;e<=n;e++)(t=new Date).setDate(1),t.setYear(this.d.getFullYear()),t.setHours(1),t.setMinutes(1),t.setMonth(e),t.setHours(-2),a+=t.getDate();return a+this.d.getDate()},monthName:function(e){if(void 0===e)return _()[this.month()];let t=this.clone();return t=t.month(e)},quarter:function(e){if(void 0!==e&&("string"==typeof e&&(e=e.replace(/^q/i,""),e=parseInt(e,10)),de[e])){let t=this.clone(),a=de[e][0];return t=(t=(t=t.month(a)).date(1)).startOf("day")}let t=this.d.getMonth();for(let e=1;e<de.length;e++)if(t<de[e][0])return e-1;return 4},season:function(e){let t="north";if("South"===this.hemisphere()&&(t="south"),void 0!==e){let a=this.clone();for(let n=0;n<he[t].length;n++)e===he[t][n][0]&&(a=(a=(a=a.month(he[t][n][1])).date(1)).startOf("day"));return a}let a=this.d.getMonth();for(let e=0;e<he[t].length-1;e++)if(a>=he[t][e][1]&&a<he[t][e+1][1])return he[t][e][0];return"winter"},year:function(e){if(void 0!==e){let t=this.clone();return t.epoch=Ae(t,e),t}return this.d.getFullYear()},era:function(e){if(void 0!==e){let t=this.clone();e=e.toLowerCase();let a=t.d.getFullYear();return"bc"===e&&a>0&&(t.epoch=Ae(t,-1*a)),"ad"===e&&a<0&&(t.epoch=Ae(t,-1*a)),t}return this.d.getFullYear()<0?"BC":"AD"}};const He=Object.assign({},Ne,Fe,Ze);He.milliseconds=He.millisecond,He.seconds=He.second,He.minutes=He.minute,He.hours=He.hour,He.hour24=He.hour,He.h12=He.hour12,He.h24=He.hour24,He.days=He.day;var Be=e=>{Object.keys(He).forEach(t=>{e.prototype[t]=He[t]})};const Ge=["millisecond","second","minute","hour","date","month"];let Qe={second:Ge.slice(0,1),minute:Ge.slice(0,2),quarterhour:Ge.slice(0,2),hour:Ge.slice(0,3),date:Ge.slice(0,4),month:Ge.slice(0,4),quarter:Ge.slice(0,4),season:Ge.slice(0,4),year:Ge,decade:Ge,century:Ge};Qe.week=Qe.hour,Qe.season=Qe.date,Qe.quarter=Qe.date;const Ue={year:!0,quarter:!0,season:!0,month:!0,week:!0,day:!0},We={month:!0,quarter:!0,season:!0,year:!0};var Ve=t=>{t.prototype.add=function(t,a){let n=this.clone();if(!a||0===t)return n;let r=this.clone();a=e.normalize(a),b[a]?n.epoch+=b[a]*t:"week"===a?n.epoch+=b.day*(7*t):"quarter"===a||"season"===a?n.epoch+=b.month*(4*t):"season"===a?n.epoch+=b.month*(4*t):"quarterhour"===a&&(n.epoch+=15*b.minute*t);let o={};if(Qe[a]&&Qe[a].forEach(e=>{o[e]=r[e]()}),Ue[a]){const e=r.timezone().current.offset-n.timezone().current.offset;n.epoch+=3600*e*1e3}if("month"===a&&(o.month=r.month()+t,o=((e,t)=>{if(e.month>0){let a=parseInt(e.month/12,10);e.year=t.year()+a,e.month=e.month%12}else if(e.month<0){let a=Math.floor(Math.abs(e.month)/13,10);a=Math.abs(a)+1,e.year=t.year()-a,e.month=e.month%12,e.month=e.month+12,12===e.month&&(e.month=0)}return e})(o,r)),"week"===a){let e=r.date()+7*t;e<=28&&e>1&&(o.date=e)}else if("date"===a){let e=r.date()+t;e<=28&&e>1?o.date=e:0!==t&&r.isSame(n,"day")&&(o.date=r.date()+t)}else"year"===a&&n.year()===r.year()?n.epoch+=b.week:"decade"===a?o.year=n.year()+10:"century"===a&&(o.year=n.year()+100);if(We[a]){let e=S[o.month];o.date=r.date(),o.date>e&&(o.date=e)}return v(n,o),n},t.prototype.subtract=function(e,t){return this.clone().add(-1*e,t)},t.prototype.minus=t.prototype.subtract,t.prototype.plus=t.prototype.add};const Je={millisecond:e=>e.epoch,second:e=>[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second()].join("-"),minute:e=>[e.year(),e.month(),e.date(),e.hour(),e.minute()].join("-"),hour:e=>[e.year(),e.month(),e.date(),e.hour()].join("-"),day:e=>[e.year(),e.month(),e.date()].join("-"),week:e=>[e.year(),e.week()].join("-"),month:e=>[e.year(),e.month()].join("-"),quarter:e=>[e.year(),e.quarter()].join("-"),year:e=>e.year()};Je.date=Je.day;var Ke=e=>{e.prototype.isSame=function(t,a){let n=this;return a?("string"!=typeof t&&"number"!=typeof t||(t=new e(t,this.timezone.name)),a=a.replace(/s$/,""),Je[a]?Je[a](n)===Je[a](t):null):null}};var Re=t=>{const a={isAfter:function(t){t=e.beADate(t,this);let a=e.getEpoch(t);return null===a?null:this.epoch>a},isBefore:function(t){t=e.beADate(t,this);let a=e.getEpoch(t);return null===a?null:this.epoch<a},isEqual:function(t){t=e.beADate(t,this);let a=e.getEpoch(t);return null===a?null:this.epoch===a},isBetween:function(t,a){t=e.beADate(t,this),a=e.beADate(a,this);let n=e.getEpoch(t);if(null===n)return null;let r=e.getEpoch(a);return null===r?null:n<this.epoch&&this.epoch<r}};Object.keys(a).forEach(e=>{t.prototype[e]=a[e]})};var Xe=t=>{const a={i18n:t=>{e.isObject(t.days)&&B(t.days),e.isObject(t.months)&&$(t.months)}};Object.keys(a).forEach(e=>{t.prototype[e]=a[e]})};let et=l;const tt=function(e,t,a={}){if(this.epoch=null,this.tz=y(t,et),this.silent=a.silent||!0,this._weekStart=1,void 0!==a.weekStart&&(this._weekStart=a.weekStart),Object.defineProperty(this,"d",{get:function(){let e=r(this),t=(new Date(this.epoch).getTimezoneOffset()||0)+60*e;t=60*t*1e3;let a=this.epoch+t;return new Date(a)}}),Object.defineProperty(this,"timezones",{get:()=>et,set:e=>(et=e,e)}),void 0!==e||null===e){let a=N(this,e,t);this.epoch=a.epoch}};Object.keys(De).forEach(e=>{tt.prototype[e]=De[e]}),tt.prototype.clone=function(){return new tt(this.epoch,this.tz,{silent:this.silent,weekStart:this._weekStart})},Be(tt),Ve(tt),Ke(tt),Re(tt),Xe(tt);var at=tt;var nt=(e,t)=>{let a=new at(null),n=new at(null);a=a.time(e),n=t?n.time(t):a.add(59,"minutes");let r=a.hour(),o=n.hour();return Object.keys(a.timezones).filter(e=>{if(-1===e.indexOf("/"))return!1;let t=new at(null,e),i=t.hour();return i>=r&&i<=o&&(!(i===r&&t.minute()<a.minute())&&!(i===o&&t.minute()>n.minute()))})};const rt=(e,t,a)=>new at(e,t,a);return rt.now=(e,t)=>new at((new Date).getTime(),e,t),rt.today=(e,t)=>{return new at((new Date).getTime(),e,t).startOf("day")},rt.tomorrow=(e,t)=>{return new at((new Date).getTime(),e,t).add(1,"day").startOf("day")},rt.yesterday=(e,t)=>{return new at((new Date).getTime(),e,t).subtract(1,"day").startOf("day")},rt.extend=function(e){return Object.keys(e).forEach(t=>{at.prototype[t]=e[t]}),this},rt.whereIts=nt,rt.version="5.10.0",rt.plugin=rt.extend,rt});
